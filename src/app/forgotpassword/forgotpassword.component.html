<div class="forgot-container">
  <div class="forgot-content">
    <h1>Forgot Password</h1>
    <p class="subtitle">Enter your new password</p>

    <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" class="forgot-form">
      <div class="form-group">
        <label for="newPassword">New Password</label>
        <div class="password-input-container">
          <input
            [type]="showNewPassword ? 'text' : 'password'"
            id="newPassword"
            formControlName="newPassword"
            class="form-control"
            [ngClass]="{ 'is-invalid': submitted && f['newPassword'].errors }"
            placeholder="Enter new password"
          >
          <button type="button" class="toggle-password" (click)="toggleNewPasswordVisibility()">
            <img [src]="showNewPassword ? 'assets/Unhide.png' : 'assets/Hide.png'" alt="Toggle password visibility">
          </button>
        </div>
        <div *ngIf="submitted && f['newPassword'].errors" class="invalid-feedback">
          <div *ngIf="f['newPassword'].errors['required']">New password is required</div>
          <div *ngIf="f['newPassword'].errors['minlength']">Password must be at least 8 characters</div>
        </div>
      </div>

      <div class="form-group">
        <label for="confirmPassword">Confirm Password</label>
        <div class="password-input-container">
          <input
            [type]="showConfirmPassword ? 'text' : 'password'"
            id="confirmPassword"
            formControlName="confirmPassword"
            class="form-control"
            [ngClass]="{ 'is-invalid': submitted && (f['confirmPassword'].errors || forgotPasswordForm.hasError('mismatch')) }"
            placeholder="Confirm new password"
          >
          <button type="button" class="toggle-password" (click)="toggleConfirmPasswordVisibility()">
            <img [src]="showConfirmPassword ? 'assets/Unhide.png' : 'assets/Hide.png'" alt="Toggle password visibility">
          </button>
        </div>
        <div *ngIf="submitted && (f['confirmPassword'].errors || forgotPasswordForm.hasError('mismatch'))" class="invalid-feedback">
          <div *ngIf="f['confirmPassword'].errors?.['required']">Please confirm your password</div>
          <div *ngIf="forgotPasswordForm.hasError('mismatch')">Passwords do not match</div>
        </div>
      </div>

      <button type="submit" class="reset-button">Reset Password</button>

      <div class="login-prompt">
        Remember your password? <a routerLink="/login" class="login-link">Back to Login</a>
      </div>
    </form>
  </div>
  
  <div class="forgot-image">
    <img src="assets/Rent.png" alt="QuickRent Illustration">
  </div>
</div>
